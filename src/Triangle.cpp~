#include "Triangle.h"
#include <limits>
using namespace Raytracer148;
using namespace Eigen;
using namespace std;

HitRecord Triangle::intersect(const Ray &ray) {
  HitRecord result;
  result.t = -1;

  //norm of the plane
  Vector3d normal = ((v3-v1).cross(v2-v1)).normalized();
  
  double t = -(ray.origin.dot(normal))/(ray.direction.dot(normal));
  Vector3d position = ray.origin + t * ray.direction;

  result.t = t;
  result.position = position;
  result.normal = normal;
}
